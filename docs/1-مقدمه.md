
# آموزش جامع ORM جنگو

## مقدمه

در این آموزش، به بررسی کامل و جامع **ORM جنگو** (Object-Relational Mapping) خواهیم پرداخت. **ORM** ابزاری است که در جنگو به ما این امکان را می‌دهد تا بدون نیاز به نوشتن کوئری‌های SQL، به راحتی با پایگاه داده تعامل داشته باشیم. این ابزار به کمک تبدیل مدل‌های Python به جداول پایگاه داده، به برنامه‌نویس کمک می‌کند تا عملیات CRUD (ایجاد، خواندن، به‌روزرسانی، حذف) را به راحتی انجام دهد.

هدف این آموزش، آموزش مفاهیم اصلی ORM، چگونگی استفاده از آن در جنگو و پیاده‌سازی بهترین شیوه‌ها در توسعه است. همچنین در این آموزش تفاوت‌های ORM با روش‌های دیگر مانند **Raw SQL** و معایب و مزایای هرکدام توضیح داده خواهد شد.

---

## بخش 1: چرا ORM؟

در این بخش به دلایل استفاده از **ORM** و چگونگی تفاوت آن با استفاده از **Raw SQL** پرداخته خواهد شد. این بخش به شما کمک می‌کند تا انتخاب بهتری در هنگام استفاده از ORM برای پروژه‌های جنگو داشته باشید.

### 1.1. مفهوم ORM و اهداف آن

**ORM** (Object-Relational Mapping) ابزاری است که در زبان‌های برنامه‌نویسی برای ارتباط شی‌گرا با پایگاه‌های داده رابطه‌ای مورد استفاده قرار می‌گیرد. هدف از ORM این است که کد برنامه‌نویس را از نیاز به نوشتن کوئری‌های پیچیده SQL برای تعامل با پایگاه داده‌ها رها کند و آن را به یک مدل شی‌گرا تبدیل کند.

در جنگو، ORM امکان ایجاد، خواندن، به‌روزرسانی و حذف (CRUD) داده‌ها را به سادگی فراهم می‌آورد. همچنین، جنگو ORM به طور خودکار ارتباطات پایگاه داده را به صورت شی‌گرایانه مدیریت می‌کند، بنابراین نیازی به نوشتن SQL‌های پیچیده برای ارتباط با جداول مختلف و ساختارهای پایگاه داده نیست.

### 1.2. مزایای استفاده از ORM در جنگو

- **سادگی**: با ORM، کدهای شما ساده‌تر و قابل فهم‌تر خواهند بود زیرا نیازی به نوشتن SQL‌های پیچیده ندارید. جنگو به طور خودکار بسیاری از کارهای مربوط به پایگاه داده را انجام می‌دهد.
- **امنیت بیشتر**: ORM به طور خودکار از تزریق SQL جلوگیری می‌کند، که یکی از رایج‌ترین خطرات امنیتی در برنامه‌نویسی وب است.
- **قابلیت جابجایی بین پایگاه‌های داده**: یکی از مزایای ORM این است که می‌توانید به راحتی پایگاه داده خود را تغییر دهید (مثلاً از SQLite به PostgreSQL) بدون اینکه نیاز به تغییرات عمده‌ای در کد داشته باشید.
- **قابلیت استفاده مجدد از کد**: ORM به شما این امکان را می‌دهد که به راحتی مدل‌ها را به اشتراک بگذارید و از آن‌ها در بخش‌های مختلف برنامه استفاده کنید.

### 1.3. ORM vs Raw SQL

در مقایسه با **Raw SQL** (نوشتن کوئری‌های SQL به صورت دستی)، ORM مزایای زیادی دارد، اما این بدان معنا نیست که ORM همیشه بهترین انتخاب است. در اینجا تفاوت‌های اصلی بین ORM و Raw SQL آورده شده است:

#### 1.3.1. راحتی و سرعت توسعه

- **ORM**: در جنگو با استفاده از ORM، بسیاری از پیچیدگی‌ها و جزییات مربوط به پایگاه داده پشت پرده مدیریت می‌شود و شما فقط کافی است که مدل‌های خود را تعریف کنید. این باعث می‌شود که توسعه سریع‌تر و راحت‌تر باشد.
- **Raw SQL**: برای انجام همان کار در Raw SQL، شما باید خودتان کوئری‌های SQL را بنویسید، که ممکن است زمان‌بر و پیچیده باشد، به‌ویژه وقتی با جداول متعدد و روابط پیچیده روبه‌رو باشید.

#### 1.3.2. قابلیت اطمینان و امنیت

- **ORM**: ORM به طور خودکار از حملات تزریق SQL (SQL Injection) جلوگیری می‌کند. هنگامی که شما از ORM استفاده می‌کنید، جنگو به طور خودکار مقادیر ورودی را پاکسازی کرده و از تزریق کدهای مخرب جلوگیری می‌کند.
- **Raw SQL**: در استفاده از Raw SQL، شما باید به صورت دستی از خطرات امنیتی مانند تزریق SQL مراقبت کنید، زیرا این کار ممکن است مستلزم نوشتن کدهای پیچیده برای پاکسازی داده‌ها باشد.

#### 1.3.3. کارایی و انعطاف‌پذیری

- **ORM**: ORM به طور خودکار بسیاری از کارهای پیچیده را مدیریت می‌کند، اما در بعضی موارد ممکن است کارایی کمتری نسبت به کوئری‌های پیچیده SQL داشته باشد. برای مثال، وقتی کوئری‌ها پیچیده‌تر می‌شوند، ممکن است ORM نتواند همان عملکرد دقیق و بهینه‌سازی‌هایی که یک کوئری Raw SQL می‌تواند انجام دهد را فراهم کند.
- **Raw SQL**: نوشتن SQL به صورت مستقیم به شما این امکان را می‌دهد که کوئری‌ها را دقیقاً به شکل دلخواه خود تنظیم کنید و کارایی بهتری داشته باشید، به‌ویژه در مواردی که به بهینه‌سازی‌های پیچیده نیاز دارید.

#### 1.3.4. پشتیبانی از پایگاه داده‌های مختلف

- **ORM**: اگرچه ORM امکان تغییر پایگاه داده را به راحتی فراهم می‌آورد، اما در برخی مواقع، ممکن است برخی از ویژگی‌های خاص پایگاه داده‌ها در ORM قابل دسترس نباشند. این ممکن است به محدودیت‌هایی در استفاده از ویژگی‌های خاص مانند توابع خاص پایگاه داده یا تنظیمات خاص پایگاه داده‌ها منجر شود.
- **Raw SQL**: در استفاده از Raw SQL، شما می‌توانید به طور مستقیم از ویژگی‌های خاص هر پایگاه داده استفاده کنید، اما این به انعطاف‌پذیری ORM محدود نیست و ممکن است باعث افزایش وابستگی به یک پایگاه داده خاص شود.

---
